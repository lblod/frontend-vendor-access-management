<div class="au-o-body-container au-o-box--large">
  <div class="au-u-margin-top">

    <AuHeading>Edit vendor</AuHeading>

    <br>
    <AuToolbar @reverse="true">

      <AuToolbarGroup>

        <AuModal @buttonTitle="Open modal" @modalTitle="Bestuurseenheid toevoegen">
          <AuModalBody>
                <BestuurseenheidToevoegen 
                  @searchTask={{this.searchBestuursType}}
                  @onListBestuurseenheden={{this.listBestuurseenheden}}
                  @appendBestuurseenheid={{this.appendBestuurseenheid}}
                  @bestuurseenhedenLijst={{this.bestuurseenhedenLijst}}
                  @removeBestuurseenheid={{this.removeBestuurseenheid}}
                />
          </AuModalBody>
          <AuModalFooter>
            <AuButton  {{ on 'click' (fn this.patchVendor null this.model.vendor "add")}}>Opslaan</AuButton>
          </AuModalFooter>
        </AuModal>

      </AuToolbarGroup>
      <AuToolbarGroup>
        <AuCard @flex="true" as |c|>
          <c.header @badgeSkin="brand" @badgeIcon="users">
            <AuHeading @level="2" @skin="4">
              {{this.model.vendor.name}}
            </AuHeading>
          </c.header>
          <c.content>
            <label>API KEY: </label>
            <Input @type={{if this.hiddenKeyState "text" "password"}} value="{{this.model.vendor.key}}" readonly />
            <AuButton {{on 'click' (toggle "hiddenKeyState" this)}}>Show</AuButton>
          </c.content>

        </AuCard>
        <div>

        </div>
      </AuToolbarGroup>
    </AuToolbar>
    <br>
    <AuHeading @skin='3'>Persmissions list</AuHeading>
    <AuDataTable @content={{this.model.vendor.canActOnBehalfOf}} @fields="Vendors" @noDataMessage="Geen vendors gevonden"
      @sort={{sort}} @size={{this.size}} @page={{this.page}} @isLoading={{isLoading}} as |t|>
      <t.content as |c|>
        <c.header>
          <th class="data-table__header-title u-hidden--mobile">Bestuurseenheid</th>
          <th class="data-table__header-title u-visible--tablet-portrait-up" style="max-width: 5rem;">Type</th>
          <th class="data-table__header-title u-visible--tablet-portrait-up" style="max-width: 5rem;">Actie</th>
        </c.header>
        <c.body as |bestuurseenheid|>
          <td>
            {{bestuurseenheid.naam}}
          </td>
          <td>
            {{bestuurseenheid.classificatie.label}}
          </td>
          <td>
            <AuButton @alert="true" {{ on 'click' (fn this.patchVendor bestuurseenheid this.model.vendor "delete")}}>Delete</AuButton>
          </td>
        </c.body>
      </t.content>
    </AuDataTable>
  </div>

</div>